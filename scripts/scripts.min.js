import{sampleRUM,loadFooter,decorateButtons,decorateIcons,decorateSections,decorateBlocks,decorateTemplateAndTheme,waitForLCP,loadBlocks,toClassName,getMetadata,loadCSS,loadBlock,loadHeader,decorateBlock,buildBlock,readBlockConfig,toCamelCase,createOptimizedPicture}from"./lib-franklin.js";import{a,div,domEl,iframe,p}from"./dom-helpers.js";import{decorateModal}from"../blocks/modal/modal.js";const TEMPLATE_LIST=["application-note","news","publication","blog","event","about-us","newsroom","landing-page"];window.hlx.templates.add(TEMPLATE_LIST.map((e=>`/templates/${e}`)));const LCP_BLOCKS=["hero","hero-advanced","featured-highlights"],SUPPORT_CHANNELS=["DISTRIBUTOR","INTEGRATOR","SALES","TECH"];window.hlx.RUM_GENERATION="molecular-devices";let STICKY_ELEMENTS,PREV_STICKY_ELEMENTS,LAST_SCROLL_POSITION=0,LAST_STACKED_HEIGHT=0;const mobileDevice=window.matchMedia("(max-width: 991px)");export function loadScript(e,t,o,a,r){let n=document.querySelector(`head > script[src="${e}"]`);if(r&&n&&(n.remove(),n=null),n)"function"==typeof t&&t("noop");else{const r=document.querySelector("head");n=document.createElement("script"),n.src=e,a&&(n.async=!0),o&&n.setAttribute("type",o),n.onload=t,r.append(n)}return n}export function summariseDescription(e,t){let o=e;if(o.length>t){o=o.substring(0,t);const e=o.lastIndexOf(" ");-1!==e&&(o=o.substring(0,e))}return`${o}â€¦`}function optimiseHeroBlock(e){const t=e.querySelectorAll(".hero, .hero-advanced");if(!t||0===t.length)return;const o=document.createElement("div");o.append(...t),e.prepend(o)}function decorateWaveSection(e){const t=createOptimizedPicture("/images/wave-footer-bg-top.png","wave",!1,[{media:"(min-width: 992px)",width:"1663"},{width:"900"}]);t.querySelector("img").setAttribute("width","1663"),t.querySelector("img").setAttribute("height","180");const o=document.querySelector(":scope.fragment > div, .page-tabs, .landing-page, .section.wave:last-of-type, .section:last-of-type div:first-of-type .fragment:only-child"),a=document.querySelectorAll(".section.wave:not(.bluegreen):last-of-type, .section.wave.orange-buttons:not(.bluegreen)"),r=document.querySelectorAll(".section.wave:not(.bluegreen, .wavecarousel)");a.forEach((e=>{e&&!e.querySelector("picture")&&e.appendChild(t)})),r.forEach((e=>{e&&!e.querySelector(":scope > picture")&&e.appendChild(t)})),o||e.appendChild(div({class:"section wave","data-section-status":"initialized"},t))}function decorateEmbeddedBlocks(e){e.querySelectorAll("div.section > div").forEach(decorateBlock)}function createBreadcrumbsSpace(e){if("auto"===getMetadata("breadcrumbs")){const t=document.createElement("div");t.classList.add("breadcrumbs-wrapper"),e.querySelector(".section").prepend(t)}}async function loadBreadcrumbs(e){if("auto"===getMetadata("breadcrumbs")){const t=e.querySelector(".breadcrumbs-wrapper"),o=buildBlock("breadcrumbs","");t.append(o),decorateBlock(o),await loadBlock(o)}}export function isVideo(e){let t=!1;return["vids.moleculardevices.com","vidyard.com"].forEach((o=>{e.hostname.includes(o)&&(t=!0)})),t}export function embedVideo(e,t,o,a){const r=t.pathname.substring(t.pathname.lastIndexOf("/")+1).replace(".html",""),n=new IntersectionObserver((t=>{t.some((e=>e.isIntersecting))&&(n.disconnect(),loadScript("https://play.vidyard.com/embed/v4.js",null,null,null,!0),e.parentElement.innerHTML=`<img style="width: 100%; margin: auto; display: block;"\n      class="vidyard-player-embed"\n      src="https://play.vidyard.com/${r}.jpg"\n      data-uuid="${r}"\n      data-v="4"\n      allowfullscreen="${"inline"===o}"\n      data-width="${"lightbox"===o?"700":""}"\n      data-height="${"lightbox"===o?"394":""}"\n      data-autoplay="${"lightbox"===o||a?"1":"0"}"\n      data-type="${"lightbox"===o?"lightbox":"inline"}"/>`)}));n.observe(e.parentElement)}export function videoButton(e,t,o){const a=o.pathname.split("/").at(-1).trim(),r=div({id:"overlay"},div({class:"vidyard-player-embed","data-uuid":a,"dava-v":"4","data-type":"lightbox","data-autoplay":"2"}));e.prepend(r),t.addEventListener("click",(e=>{e.preventDefault(),loadScript("https://play.vidyard.com/embed/v4.js",(()=>{VidyardV4.api.getPlayersByUUID(a)[0].showLightbox()}))}))}export function decorateExternalLink(e){if(!e.href)return;const t=new URL(e.href);if(e.closest(".add-external-link"))return e.setAttribute("target","_blank"),void e.setAttribute("rel","noopener noreferrer");if(t.origin===window.location.origin||t.host.endsWith("moleculardevices.com")||["https://view.ceros.com","https://share.vidyard.com","https://main--moleculardevices--hlxsites.aem.page","https://main--moleculardevices--hlxsites.aem.live","http://molecular-devices.myshopify.com","http://moldev.com","http://go.pardot.com","http://pi.pardot.com","https://drift.me"].includes(t.origin)||!t.protocol.startsWith("http")||e.closest(".languages-dropdown")||e.querySelector(".icon"))return;const o=["STRONG","EM","SPAN","H2"];if(Array.from(e.children).filter((e=>!o.includes(e.tagName))).length>0)return;e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer");const a=e.querySelector("h2"),r=domEl("i",{class:"fa fa-external-link"});a?a.appendChild(r):e.appendChild(r)}export function decorateLinks(e){e.querySelectorAll("a").forEach((e=>{const t=new URL(e.href);if(isVideo(t)&&!e.closest(".block.hero-advanced")&&!e.closest(".block.hero")){const o=e.closest(".button-container");if(e.closest(".block.cards")||o&&o.querySelector("strong,em"))videoButton(e.closest("div"),e,t);else{const o=e.parentElement,r=e.closest(".block.autoplay-video"),n=e.closest(".block.vidyard")&&!e.closest(".block.vidyard").classList.contains("lightbox"),i="EM"===o.tagName||n?"inline":"lightbox",c=div({class:"video-wrapper"},div({class:"video-container"},a({href:e.href},e.textContent)));e.href!==e.textContent&&c.append(p({class:"video-title"},e.textContent)),o.innerHTML=c.outerHTML,embedVideo(o.querySelector("a"),t,i,r)}}t.pathname.startsWith("/quote-request")&&!t.searchParams.has("pid")&&getMetadata("family-id")&&(t.searchParams.append("pid",getMetadata("family-id")),e.href=t.toString()),t.pathname.endsWith(".pdf")&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")),decorateExternalLink(e)}))}function decorateParagraphs(e){[...e.querySelectorAll("p > picture")].forEach((e=>{e.parentElement.classList.add("picture")})),[...e.querySelectorAll("ol > li > em:only-child")].forEach((e=>{e.parentElement.parentElement.classList.add("text-caption")}))}function lazyLoadHiddenPageNavTabs(e,t){const o=window.location.hash,a=o?o.substring(1,o.length).toLowerCase():t;e.forEach((e=>{if(e.getAttribute("aria-labelledby")!==a){e.querySelectorAll(".block").forEach((e=>{e.setAttribute("data-block-status","loaded"),e.setAttribute("data-block-lazy-load",!0),e.parentElement.style.display="none"}));const t=t=>{t.querySelectorAll(".block[data-block-lazy-load]").forEach((async e=>{e.removeAttribute("data-block-lazy-load"),e.setAttribute("data-block-status","initialized"),await loadBlock(e),e.parentElement.style.display=""})),e.setAttribute("data-section-status","loaded")},o=new IntersectionObserver((a=>{a.some((e=>e.isIntersecting))&&(o.disconnect(),t(e))}));o.observe(e),setTimeout((()=>{o.disconnect(),t(e)}),3500)}}))}function decoratePageNav(e){const t=e.querySelector(".page-tabs");if(!t)return;const o=t.closest("div.section");let a=[...e.querySelectorAll("div.section")];a=a.slice(a.indexOf(o)+1);const r=a.filter((e=>e.hasAttribute("data-name")));if(r){let e=0;a.forEach((t=>{e<r.length&&(t.classList.add("tabs"),t.setAttribute("aria-labelledby",r[e].getAttribute("data-name")),t.hasAttribute("data-name")&&(e+=1))}))}lazyLoadHiddenPageNavTabs(a,r[0].getAttribute("data-name"))}function detectSidebar(e){const t=e.querySelector(".section.sidebar");if(t){e.classList.add("sidebar");const o=e.children.length-1;e.style=`grid-template-rows: repeat(${o}, auto);`;const a=t.getAttribute("data-start-sidebar-at-section");if(a&&Number.parseInt(a,10)){const e=Number.parseInt(a,10);t.style=`grid-row: ${e} / infinite;`}}}export function decorateLinkedPictures(e){[...e.querySelectorAll("picture + br + a, picture + a")].forEach((e=>{const t=e.previousElementSibling;let o=t.previousElementSibling;"PICTURE"===t.tagName&&(o=t),e.textContent.includes(e.getAttribute("href"))&&(e.innerHTML="",e.className="",e.appendChild(o))}))}function addPageSchema(){if(document.querySelector('head > script[type="application/ld+json"]'))return;const e=getMetadata("template"),t=e?e.split(",").map((e=>e.trim())):[],o=window.location.pathname;if(["Product","Application","Category","homepage","Blog","Event","Application Note","Videos and Webinars"].some((e=>-1!==t.indexOf(e)))||["/products"].includes(o))try{const t="https://www.moleculardevices.com/",a="https://www.moleculardevices.com/images/header-menus/logo.svg",r=document.querySelector("main h1"),n=r?r.textContent:getMetadata("og:title"),i=document.querySelector(".hero img"),c=getMetadata("thumbnail")||getMetadata("og:image")||a,s=i?i.src:c,l=new URL(s,t),d=getMetadata("keywords"),u=getMetadata("description"),m=getMetadata("event-start"),p=getMetadata("event-end"),h=getMetadata("event-address"),g=document.querySelector("link[rel='canonical']").href,f=document.createElement("script");f.setAttribute("type","application/ld+json");const y={"@type":"ImageObject",representativeOfPage:"True",url:a},b=["http://www.linkedin.com/company/molecular-devices","https://www.facebook.com/MolecularDevices","http://www.youtube.com/user/MolecularDevicesInc","https://www.x.com/moldev"];let w=null;if("homepage"===e){const e="Molecular Devices";w={"@context":"https://schema.org","@graph":[{"@type":"Organization",additionalType:"Organization",description:u,name:e,sameAs:[...b,"https://en.wikipedia.org/wiki/Molecular_Devices"],url:t,telephone:"+1 877-589-2214, +1 408.747.1700, +1 800.635.5577",image:{"@type":"ImageObject",url:a},address:{"@type":"PostalAddress",streetAddress:"3860 N First Street",addressLocality:"San Jose",addressRegion:"CA",postalCode:"95134",addressCountry:"US"}},{"@type":"WebSite",name:e,url:t,potentialAction:{"@type":"SearchAction","query-input":"required name=search_term_string",target:{"@type":"EntryPoint",urlTemplate:"https://www.moleculardevices.com/search-results#q={search_term_string}"}}}]}}"Application"===e&&(w={"@context":"https://schema.org","@graph":[{"@type":"TechArticle",headline:n,name:n,description:u,about:d?d.split(",").map((e=>e.trim())):[],url:g,image:{"@type":"ImageObject",representativeOfPage:"True",url:l},author:{"@type":"Organization",name:"Molecular Devices",url:t,sameAs:b,logo:y},publisher:{"@type":"Organization",name:"Molecular Devices",url:t,sameAs:b,logo:y}},{"@type":"ImageObject",name:n,url:l}]}),("Product"===e||e.includes("Category")||"/products"===o)&&(w={"@context":"https://schema.org","@graph":[{"@type":"WebPage",name:n,description:u,url:g,image:{"@type":"ImageObject",representativeOfPage:"True",url:l},author:{"@type":"Organization",name:"Molecular Devices",url:t,sameAs:b,logo:y}}]}),"Blog"===e&&(w={"@context":"https://schema.org","@graph":[{"@type":"BlogPosting",headline:n,name:n,description:u,about:d?d.split(",").map((e=>e.trim())):[],image:{"@type":"ImageObject",representativeOfPage:"True",url:l},author:{"@type":"Organization",name:"Molecular Devices",url:g,sameAs:b,logo:y}}]}),"Application Note"===e&&(w={"@context":"https://schema.org","@graph":[{"@type":"TechArticle",headline:n,name:n,description:u,about:d?d.split(",").map((e=>e.trim())):[],author:{"@type":"Organization",name:"Molecular Devices",url:g,sameAs:b,logo:y}}]}),"Event"===e&&(w={"@context":"https://schema.org","@graph":[{"@type":"Event",name:n,url:g,description:getMetadata("description"),eventAttendanceMode:getMetadata("event-type"),startDate:m?m.split(",")[0]:"",endDate:p?p.split(",")[0]:"",image:{"@type":"ImageObject",representativeOfPage:"True",url:l},location:{"@type":"City",name:h?h.split(",").map((e=>e.trim())):[]}}]}),w&&(f.appendChild(document.createTextNode(JSON.stringify(w,null,2))),document.querySelector("head").appendChild(f))}catch(e){console.log(e)}}function addHreflangTags(){if(document.querySelectorAll("head link[hreflang]").length>0)return;const e=getMetadata("template"),t=e?e.split(",").map((e=>e.trim())):[],o=window.location.pathname;if(!["homepage","Product","Application","Category","Technology","Customer Breakthrough","Video Gallery","contact","About Us"].some((e=>-1!==t.indexOf(e)))&&!["/leadership","/products","/applications","/customer-breakthroughs"].includes(o))return;[{lang:"x-default",href:"https://www.moleculardevices.com"},{lang:"de",href:"https://de.moleculardevices.com"},{lang:"es",href:"https://es.moleculardevices.com"},{lang:"fr",href:"https://fr.moleculardevices.com"},{lang:"it",href:"https://it.moleculardevices.com"},{lang:"ko",href:"https://ko.moleculardevices.com"},{lang:"zh",href:"https://www.moleculardevices.com.cn"}].forEach((e=>{const t=document.createElement("link");t.setAttribute("rel","alternate"),t.setAttribute("hreflang",e.lang),t.setAttribute("href",e.href+o),document.head.appendChild(t)}))}export function iframeResizeHandler(e,t,o){loadScript("/scripts/iframeResizer.min.js"),o.querySelector("iframe").addEventListener("load",(()=>{e&&iFrameResize({log:!1,checkOrigin:!1,heightCalculationMethod:"bodyScroll"},`#${t}`)}))}async function formInModalHandler(e){const t=e.querySelector(".section.form-in-modal"),o="modal-iframe";if(t){const e=t.getAttribute("data-default-form"),a=div({class:"slas-form"},div({class:"iframe-wrapper"},iframe({src:e,id:o,loading:"lazy",title:"SLAS Modal"})));await decorateModal(e,o,a)}}function scrollToHashSection(){const e=window.location.hash;if(e){const t=e.substring(1).toLowerCase();let o=document.getElementById(t);if(o)setTimeout((()=>{const e=o.getBoundingClientRect().top+window.scrollY-250;window.scrollTo({top:e,behavior:"smooth"})}),1e3);else{const e=new MutationObserver((()=>{if(o=document.getElementById(t),o){const t=o.getBoundingClientRect().top+window.scrollY-250;window.scrollTo({top:t,behavior:"smooth"}),e.disconnect()}}));e.observe(document.body,{childList:!0,subtree:!0})}}}scrollToHashSection(),window.addEventListener("hashchange",(e=>{e.preventDefault(),scrollToHashSection()}));export function detectAnchor(e){const t=window.location.hash;if(!t)return;const o=t.substring(1,t.length).toLocaleLowerCase();if(e.querySelector(`#${o}`)){const t=new MutationObserver((o=>{o.forEach((o=>{"attributes"===o.type&&"data-block-status"===o.attributeName&&"loaded"===e.attributes.getNamedItem("data-block-status").value&&(t.disconnect(),setTimeout((()=>{window.dispatchEvent(new Event("hashchange"))}),3500))}))}));t.observe(e,{attributes:!0})}}export async function decorateMain(e){decorateButtons(e),decorateIcons(e),optimiseHeroBlock(e),decorateSections(e),decorateWaveSection(e),decorateBlocks(e),decoratePageNav(e),detectSidebar(e),decorateLinkedPictures(e),decorateLinks(e),decorateParagraphs(e),formInModalHandler(e),addPageSchema(),addHreflangTags()}async function loadEager(e){document.documentElement.lang=document.documentElement.lang||"en",document.documentElement.setAttribute("original-lang",document.documentElement.lang),decorateTemplateAndTheme();const t=e.querySelector("main");t&&(await window.hlx.plugins.run("loadEager"),await decorateMain(t),createBreadcrumbsSpace(t),await waitForLCP(LCP_BLOCKS)),window.innerWidth>=900&&loadCSS(`${window.hlx.codeBasePath}/styles/fonts.css`);try{sessionStorage.getItem("fonts-loaded")&&loadCSS(`${window.hlx.codeBasePath}/styles/fonts.css`)}catch(e){}}export function formatDate(e,t={}){if(!e)return"";const o=e.split(/[/,]/),a=new Date(o[2],o[0]-1,o[1]);return a?a.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric",...t}):e}export function formatDateUTCSeconds(e,t={}){const o=new Date(0);return o.setUTCSeconds(e),o.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric",...t})}export function unixDateToString(e){const t=new Date(1e3*e),o=t.getUTCDate();return`${(t.getMonth()+1).toString().padStart(2,"0")}/${o}/${t.getFullYear()}`}export function addLinkIcon(e){const t=document.createElement("i");t.className="fa fa-chevron-circle-right",t.ariaHidden=!0,e.append(t)}export async function fetchFragment(e,t=!0){const o=await fetch(e+(t?".plain.html":""));if(!o.ok)return console.error("error loading fragment details",o),null;const a=await o.text();return a||(console.error("fragment details empty",e),null)}function getStickyElements(){PREV_STICKY_ELEMENTS=STICKY_ELEMENTS,STICKY_ELEMENTS=mobileDevice.matches?document.querySelectorAll(".sticky-element.sticky-mobile"):document.querySelectorAll(".sticky-element.sticky-desktop"),PREV_STICKY_ELEMENTS&&PREV_STICKY_ELEMENTS.forEach((e=>{let t=!1;STICKY_ELEMENTS.forEach((o=>{e===o&&(t=!0)})),t||(e.classList.remove("sticky"),e.style.top="")}))}function enableStickyElements(){getStickyElements(),mobileDevice.addEventListener("change",getStickyElements);const e=[];STICKY_ELEMENTS.forEach(((t,o)=>{e[o]=t.offsetTop})),window.addEventListener("scroll",(()=>{const t=window.pageYOffset;let o=0;STICKY_ELEMENTS.forEach(((a,r)=>{t>e[r]-o?document.querySelector('header .mainmenu-wrapper [aria-expanded="true"]')||(a.classList.add("sticky"),a.style.top=`${o}px`,o+=a.offsetHeight):(a.classList.remove("sticky"),a.style.top=""),t<LAST_SCROLL_POSITION&&t<=e[r]?a.style.top=`${Math.max(e[r]-t,o-a.offsetHeight)}px`:a.style.top=o-a.offsetHeight+"px"})),LAST_SCROLL_POSITION=t,o!==LAST_STACKED_HEIGHT&&(LAST_STACKED_HEIGHT=o,document.querySelector(":root").style.setProperty("--stacked-height",`${o}px`))}))}async function loadLazy(e){const t=e.querySelector("main");if(loadHeader(e.querySelector("header")),await loadBlocks(t),!window.location.pathname.startsWith("/cp-request")){enableStickyElements();const{hash:o}=window.location,a=!!o&&e.getElementById(o.substring(1));o&&a&&a.scrollIntoView(),loadFooter(e.querySelector("footer")),loadBreadcrumbs(t),loadCSS(`${window.hlx.codeBasePath}/styles/lazy-styles.css`),loadCSS(`${window.hlx.codeBasePath}/styles/fonts.css`).then((()=>{try{window.location.hostname.includes("localhost")||sessionStorage.setItem("fonts-loaded","true")}catch(e){}})),window.hlx.plugins.run("loadLazy"),sampleRUM("lazy"),sampleRUM.observe(t.querySelectorAll("div[data-block-name]")),sampleRUM.observe(t.querySelectorAll("picture > img"))}}function loadDelayed(){window.location.pathname.startsWith("/cp-request")||window.setTimeout((()=>(window.hlx.plugins.load("delayed"),window.hlx.plugins.run("loadDelayed"),import("./delayed.js"))),3e3)}export function getQueryParameter(){return new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)})}export function setCookie(e,t,o){const a=new Date;let r="",n="",i="";a.setTime(a.getTime()+24*o*60*60*1e3),0!==o&&(i=`expires=${a.toUTCString()}`),n=window.location.hostname.endsWith(".moleculardevices.com"),!0===n&&(r="domain=.moleculardevices.com;"),document.cookie=`${e}=${t};secure;${r}${i};path=/`}export function getCookie(e){const t=`${e}=`,o=decodeURIComponent(document.cookie).split(";");for(let e=0;e<o.length;e++){let a=o[e];for(;" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""}function setCookieFromQueryParameters(e,t){const o=getQueryParameter();o[e]&&setCookie(e,o[e],t)}export function detectStore(){if(!localStorage.getItem("ipstack:geolocation"))return!1;try{return"US"===JSON.parse(localStorage.getItem("ipstack:geolocation")).country_code}catch(e){return console.warn("Could not load user information.",e),!1}}export function getCartItemCount(){return getCookie("cart-item-count")||0}async function loadPage(){await window.hlx.plugins.load("eager"),await loadEager(document),await window.hlx.plugins.load("lazy"),await loadLazy(document),loadDelayed()}const cookieParams=["cmp","utm_medium","utm_source","utm_keyword","gclid"];cookieParams.forEach((e=>{setCookieFromQueryParameters(e,1)}));export function isAuthorizedUser(){const e=getCookie("STYXKEY_PortalUserRole");return e&&SUPPORT_CHANNELS.includes(e)&&window.location.hostname.endsWith("moleculardevices.com")}export function isGatedResource(e){const t=isAuthorizedUser();return"Yes"===e.gated&&e.gatedURL&&"0"!==e.gatedURL&&(!t||e.gatedURL.includes("https://chat.moleculardevices.com"))}export function processSectionMetadata(e){const t=e.querySelector(".section-metadata");if(t){const o=readBlockConfig(t);Object.keys(o).forEach((t=>{"style"===t?e.classList.add(toClassName(o.style)):e.dataset[toCamelCase(t)]=o[t]})),t.remove()}}export async function processEmbedFragment(e){const t=div({class:"embed-fragment"});[...e.classList].forEach((e=>{t.classList.add(e)}));let o=!1;const a=e.querySelector("a");if(a){const e=new URL(a.href);let r;try{r=new URL(a.textContent)}catch{}if(r&&r.pathname===e.pathname){if(o=["localhost","moleculardevices.com","moleculardevices--hlxsites.aem.page","moleculardevices--hlxsites.aem.live"].find((t=>e.hostname.endsWith(t))),o){t.classList.remove("button-container");const o=await fetchFragment(e);t.innerHTML=o;[...t.querySelectorAll(".embed-fragment > div")].forEach((e=>{e.classList.add("section")})),decorateEmbeddedBlocks(t),decorateSections(t),loadBlocks(t)}}}if(!o){const o=e.innerHTML;t.append(div({class:"section"})),t.querySelector(".section").innerHTML=o}return decorateButtons(t),decorateIcons(t),decorateLinks(t),decorateParagraphs(t),t}export function formatNumberInUs(e){return new Intl.NumberFormat("en-US").format(e)}export function sortDataByDate(e){return e.sort(((e,t)=>{const o=parseInt(e.date,10);return parseInt(t.date,10)-o}))}export function sortDataByTitle(e){return e.sort(((e,t)=>e.title<t.title?-1:e.title>t.title?1:0))}export async function getCountryCode(){const e=await fetch("https://api.ipstack.com/check?access_key=7d5a41f8a619751e2548545f56b29dbc",{mode:"cors"});if(!e.ok)return"";return(await e.json()).country_code}export function isNotEmpty(e){return e&&"0"!==e&&"#N/A"!==e}export function itemSearchTitle(e){return isNotEmpty(e.searchTitle)?e.searchTitle:isNotEmpty(e.h1)?e.h1:isNotEmpty(e.title)?e.title:""}loadPage();